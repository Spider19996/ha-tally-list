add_drink:
  name: Add drink
  description: Increment drink counter for a person
  fields:
    user:
      description: Person name
      example: Alice
      required: true
      selector:
        text:
    drink:
      description: Drink name
      example: beer
      required: true
      selector:
        text:
    count:
      description: Number of drinks to add
      example: 2
      required: false
      selector:
        number:
          min: 1
          step: 1
    free_drink:
      description: Book as free drink
      required: true
      selector:
        boolean:
    comment:
      description: Comment for free drink
      required: false
      selector:
        text:
    pin:
      description: User PIN
      required: false
      selector:
        text:
remove_drink:
  name: Remove drink
  description: Decrement drink counter for a person
  fields:
    user:
      description: Person name
      example: Alice
      required: true
      selector:
        text:
    drink:
      description: Drink name
      example: beer
      required: true
      selector:
        text:
    count:
      description: Number of drinks to remove
      example: 2
      required: false
      selector:
        number:
          min: 1
          step: 1
    free_drink:
      description: Book as free drink
      required: false
      selector:
        boolean:
    comment:
      description: Comment for free drink
      required: false
      selector:
        text:
    pin:
      description: User PIN
      required: false
      selector:
        text:
adjust_count:
  name: Adjust count
  description: Set drink count for a person
  fields:
    user:
      description: Person name
      example: Alice
      required: true
      selector:
        text:
    drink:
      description: Drink name
      example: beer
      required: true
      selector:
        text:
    count:
      description: Desired drink count
      example: 3
      required: true
      selector:
        number:
          min: 0
          step: 1
    pin:
      description: User PIN
      required: false
      selector:
        text:
reset_counters:
  name: Reset counters
  description: Reset counters for a person. If no user is specified, reset all.
  fields:
    user:
      description: Person name
      example: Alice
      required: false
      selector:
        text:
    pin:
      description: User PIN
      required: false
      selector:
        text:
export_csv:
  name: Export CSV
  description: Export all amount_due sensors to CSV files
  fields:
    backup:
      description: Type of backup to create
      required: true
      selector:
        select:
          options:
            - daily
            - weekly
            - monthly
            - manual
    interval:
      description: >-
        Create a backup every X days, weeks or months depending on the selected
        backup. Ignored for manual backups.
      required: false
      example: 1
      selector:
        number:
          min: 1
          step: 1
    keep:
      description: >-
        Delete backups older than X days, weeks or months depending on the
        selected backup. For manual backups keep only the latest X files.
      required: false
      example: 7
      selector:
        number:
          min: 1
          step: 1
set_pin:
  name: Set PIN
  description: Set or clear a personal 4-digit PIN
  fields:
    user:
      description: Person name (admin only)
      required: false
      selector:
        text:
    pin:
      description: New 4-digit PIN (leave empty to clear)
      required: false
      selector:
        text:
add_credit:
  name: Add credit
  description: Increase credit for a person
  fields:
    user:
      description: Person name
      required: true
      selector:
        text:
    amount:
      description: Amount to add
      required: true
      selector:
        number:
          min: 0
          step: 0.01
remove_credit:
  name: Remove credit
  description: Decrease credit for a person
  fields:
    user:
      description: Person name
      required: true
      selector:
        text:
    amount:
      description: Amount to remove
      required: true
      selector:
        number:
          min: 0
          step: 0.01
set_credit:
  name: Set credit
  description: Set credit for a person to an exact amount
  fields:
    user:
      description: Person name
      required: true
      selector:
        text:
    amount:
      description: New credit amount
      required: true
      selector:
        number:
          step: 0.01
